if not exists (select * from sys.databases where name = 'COBOLSample')
create database COBOLSample
GO

USE COBOLSample
GO

if exists (select * from sysobjects where id = object_id(N'[dbo].[STOCK]') and OBJECTPROPERTY(id, N'IsUserTable') = 1)
drop table [dbo].[STOCK]
GO

if exists (select * from sysobjects where id = object_id(N'[dbo].[ORDERS]') and OBJECTPROPERTY(id, N'IsUserTable') = 1)
drop table [dbo].[ORDERS]
GO

if exists (select * from sysobjects where id = object_id(N'[dbo].[COMPANY]') and OBJECTPROPERTY(id, N'IsUserTable') = 1)
drop table [dbo].[COMPANY]
GO

CREATE TABLE [dbo].[STOCK] (
    [GNO] [smallint] NOT NULL PRIMARY KEY  CLUSTERED ,
    [GOODS] [varchar] (20) NOT NULL,
    [QOH] [int] NOT NULL,
    [WHNO] [smallint] NOT NULL,
) ON [PRIMARY]
GO

CREATE TABLE [dbo].[ORDERS] (
    [ORDERID] [int] IDENTITY(1,1) PRIMARY KEY  CLUSTERED ,
    [COMPANYNO] [smallint] NOT NULL,
    [GOODSNO] [smallint] NOT NULL,
    [PRICE] [int] NOT NULL,
    [OOH] [int] NOT NULL,
) ON [PRIMARY]
GO

CREATE TABLE [dbo].[COMPANY] (
    [CNO] [smallint] NOT NULL PRIMARY KEY  CLUSTERED ,
    [NAME] [varchar] (20) NOT NULL,
    [PHONE] [varchar] (15) NOT NULL,
    [ADDRESS] [varchar] (40) NOT NULL,
) ON [PRIMARY]
GO

INSERT INTO STOCK (GNO,GOODS,QOH,WHNO) VALUES (110,'TELEVISION',85,2)
INSERT INTO STOCK (GNO,GOODS,QOH,WHNO) VALUES (111,'TELEVISION',90,2)
INSERT INTO STOCK (GNO,GOODS,QOH,WHNO) VALUES (123,'REFRIGERATOR',60,1)
INSERT INTO STOCK (GNO,GOODS,QOH,WHNO) VALUES (124,'REFRIGERATOR',75,1)
INSERT INTO STOCK (GNO,GOODS,QOH,WHNO) VALUES (137,'RADIO',150,2)
INSERT INTO STOCK (GNO,GOODS,QOH,WHNO) VALUES (138,'RADIO',200,2)
INSERT INTO STOCK (GNO,GOODS,QOH,WHNO) VALUES (140,'CASSETTE DECK',120,2)
INSERT INTO STOCK (GNO,GOODS,QOH,WHNO) VALUES (141,'CASSETTE DECK',80,2)
INSERT INTO STOCK (GNO,GOODS,QOH,WHNO) VALUES (200,'AIR CONDITIONER',04,1)
INSERT INTO STOCK (GNO,GOODS,QOH,WHNO) VALUES (201,'AIR CONDITIONER',15,1)
INSERT INTO STOCK (GNO,GOODS,QOH,WHNO) VALUES (212,'TELEVISION',10,2)
INSERT INTO STOCK (GNO,GOODS,QOH,WHNO) VALUES (215,'VIDEO',05,2)
INSERT INTO STOCK (GNO,GOODS,QOH,WHNO) VALUES (226,'REFRIGERATOR',08,1)
INSERT INTO STOCK (GNO,GOODS,QOH,WHNO) VALUES (227,'REFRIGERATOR',15,1)
INSERT INTO STOCK (GNO,GOODS,QOH,WHNO) VALUES (240,'CASSETTE DECK',25,2)
INSERT INTO STOCK (GNO,GOODS,QOH,WHNO) VALUES (243,'CASSETTE DECK',14,2)
INSERT INTO STOCK (GNO,GOODS,QOH,WHNO) VALUES (351,'CASSETTE TAPE',2500,2)
INSERT INTO STOCK (GNO,GOODS,QOH,WHNO) VALUES (380,'SHAVER',870,3)
INSERT INTO STOCK (GNO,GOODS,QOH,WHNO) VALUES (390,'DRIER',540,3)

INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (61,123,48000,60)
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (61,124,64000,40)
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (61,138,6400,180)
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (61,140,9000,80)
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (61,215,240000,10)
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (61,240,80000,20)
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (62,110,37500,120)
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (62,226,112500,20)  
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (62,351,375,800)
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (63,111,57400,80)  
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (63,200,123000,60)  
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (63,201,164000,50)  
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (63,212,205000,30)  
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (63,215,246000,10)  
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (71,140,7800,50)  
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (71,351,390,600)
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (72,137,3500,120)
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (72,140,7000,70)  
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (72,215,210000,10)  
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (72,226,105000,20)  
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (72,243,84000,10)  
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (72,351,350,1000)
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (73,141,16000,60)  
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (73,380,2400,250)
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (73,390,2400,150)
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (74,110,39000,120)
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (74,111,54000,120)
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (74,226,117000,20)
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (74,227,140400,10)
INSERT INTO ORDERS (COMPANYNO,GOODSNO,PRICE,OOH) VALUES (74,351,390,700)

INSERT INTO COMPANY (CNO,NAME,PHONE,ADDRESS) VALUES (61,'ADAM LTD.','731-1111','SANTA CLARA CA USA')
INSERT INTO COMPANY (CNO,NAME,PHONE,ADDRESS) VALUES (62,'IDEA INC.','423-222','LONDON W.C.2 ENGLAND')
INSERT INTO COMPANY (CNO,NAME,PHONE,ADDRESS) VALUES (63,'MOON CO.','143-3333','FIFTH AVENUE NY USA')
INSERT INTO COMPANY (CNO,NAME,PHONE,ADDRESS) VALUES (71,'RIVER CO.','344-1212','PARIS FRANCE')
INSERT INTO COMPANY (CNO,NAME,PHONE,ADDRESS) VALUES (72,'DRAGON CO.','373-7777','SAN FRANCISCO CA USA')
INSERT INTO COMPANY (CNO,NAME,PHONE,ADDRESS) VALUES (73,'BIG INC.','391-0808','DALLAS TX USA')
INSERT INTO COMPANY (CNO,NAME,PHONE,ADDRESS) VALUES (74,'FIRST CO.','255-9944','SYDNEY AUSTRALIA')


