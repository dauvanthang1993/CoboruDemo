###############################################################################
#                               NetCOBOL
###############################################################################

COBFLAGS=-WC,OPTIMIZE
LINKOPTION =

ALL : MAIN.EXE

REBUILD : CLEAN ALL
CLEAN :
	DEL "MAIN.EXE"
	DEL "MAIN.OBJ"
	DEL "MAIN.EXP"
	DEL "MAIN.LIB"
	DEL "MEMBER.OBJ"
	DEL "ADDRESS.OBJ"
	DEL "EMPLOYEE.REP"
	DEL "ADDR.REP"

"MAIN.OBJ" : "MAIN.COB" "ADDR.REP" "EMPLOYEE.REP" "MAKEFILE"
	COBOL32.EXE $(COBFLAGS) -M "MAIN.COB"

"MEMBER.OBJ" : "MEMBER.COB" "ADDR.REP" "MAKEFILE"
	COBOL32.EXE $(COBFLAGS) "MEMBER.COB"

"ADDRESS.OBJ" : "ADDRESS.COB" "MAKEFILE"
	COBOL32.EXE $(COBFLAGS) "ADDRESS.COB"

"ADDR.REP" : "ADDRESS.COB" "MAKEFILE"
	COBOL32.EXE $(COBFLAGS) "ADDRESS.COB"

"EMPLOYEE.REP" : "MEMBER.COB" "ADDR.REP" "MAKEFILE"
	COBOL32.EXE $(COBFLAGS) "MEMBER.COB"

"MAIN.EXE" : "MAIN.OBJ" "MEMBER.OBJ" "ADDRESS.OBJ"
	"LINK.EXE" $(LINKOPTION) \
	/DYNAMICBASE:NO \
	/OUT:"MAIN.EXE" \
	"MAIN.OBJ" \
	"MEMBER.OBJ" \
	"ADDRESS.OBJ" \
	"F3BICIMP.LIB" \
	"MSVCRT.LIB" 

